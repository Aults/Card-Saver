(this["webpackJsonpcard-saver-app"]=this["webpackJsonpcard-saver-app"]||[]).push([[0],{17:function(t,e,a){},18:function(t,e,a){},38:function(t,e,a){"use strict";a.r(e);var n=a(1),o=a.n(n),c=a(4),r=a.n(c),s=(a(17),a.p+"static/media/Card_Saver.d3c339ba.svg"),i=(a(18),a(5)),l=a(8),d=a(9),p=a(11),h=a(10),u=a(6),g=a(0),j={position:"absolute",width:"80%",height:"25%",left:"10%",top:"18%"},b=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(t){var n;Object(l.a)(this,a);var o=(n=e.call(this,t)).props.initialCenter,c=o.lat,r=o.lng;return n.state={currentLocation:{lat:c,lng:r}},n}return Object(d.a)(a,[{key:"componentDidUpdate",value:function(t,e){t.google!==this.props.google&&this.loadMap(),e.currentLocation!==this.state.currentLocation&&this.recenterMap()}},{key:"recenterMap",value:function(){var t=this.map,e=this.state.currentLocation,a=this.props.google.maps;if(t){var n=new a.LatLng(e.lat,e.lng);t.panTo(n)}}},{key:"componentDidMount",value:function(){var t=this;this.props.centerAroundCurrentLocation&&navigator&&navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(e){var a=e.coords;t.setState({currentLocation:{lat:a.latitude,lng:a.longitude}})})),this.loadMap()}},{key:"loadMap",value:function(){if(this.props&&this.props.google){var t=this.props.google.maps,e=this.refs.map,a=r.a.findDOMNode(e),n=this.props.zoom,o=this.state.currentLocation,c=o.lat,s=o.lng,i=new t.LatLng(c,s),l=Object.assign({},{center:i,zoom:n});this.map=new t.Map(a,l)}}},{key:"renderChildren",value:function(){var t=this,e=this.props.children;if(e)return o.a.Children.map(e,(function(e){if(e)return o.a.cloneElement(e,{map:t.map,google:t.props.google,mapCenter:t.state.currentLocation})}))}},{key:"render",value:function(){var t=Object.assign({},j);return Object(g.jsxs)("div",{children:[Object(g.jsx)("div",{style:t,ref:"map",children:"Loading map..."}),this.renderChildren()]})}}]),a}(o.a.Component);b.defaultProps={zoom:14,initialCenter:{lat:38.9259,lng:77.2119},centerAroundCurrentLocation:!1,visible:!0};var O=b,f=function(t){Object(p.a)(a,t);var e=Object(h.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).state={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},t.userLoc={lat:0,lng:0},t.cardLoc={lat:0,lng:0},t.onMarkerClick=function(e,a,n){return t.setState({selectedPlace:e,activeMarker:a,showingInfoWindow:!0})},t.onClose=function(e){t.state.showingInfoWindow&&t.setState({showingInfoWindow:!1,activeMarker:null})},t}return Object(d.a)(a,[{key:"render",value:function(){var t={lat:"0",lng:"0"},e={lat:"0",lng:"0"};return 2!==this.props.user[2]&&void 0!==this.props.user.data&&this.props.user.data.length&&(e.lat=this.props.user.data[0].lat+"",e.lng=this.props.user.data[0].long+""),2!==this.props.card[2]&&void 0!==this.props.card.data&&this.props.card.data.length&&(t.lat=this.props.card.data[0].lat+"",t.lng=this.props.card.data[0].long+""),console.log("user"),console.log(t),console.log("card"),console.log(e),Object(g.jsxs)(O,{centerAroundCurrentLocation:!0,google:this.props.google,children:[Object(g.jsx)(u.Marker,{icon:"http://maps.google.com/mapfiles/kml/paddle/blu-circle.png",position:{lat:t.lat,lng:t.lng},onClick:this.onMarkerClick,name:"Current Location"}),Object(g.jsx)(u.Marker,{icon:"http://maps.google.com/mapfiles/kml/paddle/purple-circle.png",position:{lat:e.lat,lng:e.lng},onClick:this.onMarkerClick,name:"Current123 Location"}),Object(g.jsx)(u.InfoWindow,{marker:this.state.activeMarker,visible:this.state.showingInfoWindow,onClose:this.onClose,children:Object(g.jsx)("div",{children:Object(g.jsx)("h4",{children:this.state.selectedPlace.name})})})]})}}]),a}(n.Component);f=Object(u.GoogleApiWrapper)({apiKey:"AIzaSyCL1e2Z_K6Oz2k6_dBSXmPuAarOVOLWCRE"})(f);var v=function(t,e){var a=Math.PI/180*t.data[0].lat,n=Math.PI/180*t.data[0].long,o=Math.PI/180*e.data[0].lat,c=o-a,r=Math.PI/180*e.data[0].long-n;return 3280.84*(12740*Math.asin(Math.sqrt(Math.pow(Math.sin(c/2),2)+Math.cos(a)*Math.cos(o)*Math.pow(Math.sin(r/2),2))))};function m(){var t=Object(n.useState)("loading"),e=Object(i.a)(t,2),a=(e[0],e[1]),o=Object(n.useState)("loading"),c=Object(i.a)(o,2),r=(c[0],c[1]),s=Object(n.useState)({1:1}),l=Object(i.a)(s,2),d=l[0],p=l[1],h=Object(n.useState)({2:2}),u=Object(i.a)(h,2),j=u[0],b=u[1],O=Object(n.useState)(!1),m=Object(i.a)(O,2),x=m[0],k=m[1];function C(){return!!(1!==d[1]&&2!==j[2]&&null!==d.data&&null!==j.data&&d.data.length>0&&j.data.length)}return Object(n.useEffect)((function(){setInterval((function(){fetch("https://card-saver.herokuapp.com/lastCoordinates").then((function(t){if(t.ok)return t.json()})).then((function(t){try{a(t.data[0].lat),r(t.data[0].long),p(t)}catch(e){console.log(e)}})),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){b({data:[{lat:t.coords.latitude,long:t.coords.longitude}]})})):console.log("Geolocation is not supported by this browser.")}),3e3)}),[]),Object(n.useEffect)((function(){C()&&(k(!0),v(d,j))}),[j]),Object(n.useEffect)((function(){C()&&(k(!0),v(d,j))}),[d]),Object(g.jsxs)("div",{children:[Object(g.jsx)(f,{user:j,card:d}),x&&(v(d,j)>100?Object(g.jsx)("h3",{style:{display:"inline-block",borderStyle:"solid",background:"#4c6484",maxWidth:"300px",position:"absolute",top:"300px",left:"30px"},children:"You are over 100 feet away from your card!"}):Object(g.jsx)("h1",{}))]})}var x=function(){return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsxs)("header",{className:"App-header",children:[Object(g.jsx)("img",{src:s,className:"App-logo",alt:"logo"}),Object(g.jsx)(m,{}),Object(g.jsx)("div",{className:"toggle-container-1",children:Object(g.jsxs)("label",{class:"switch-1",children:[Object(g.jsx)("input",{type:"checkbox"}),"    ",Object(g.jsx)("div",{})]})}),Object(g.jsx)("div",{className:"toggle-container-2",children:Object(g.jsxs)("label",{class:"switch-2",children:[Object(g.jsx)("input",{type:"checkbox"}),"    ",Object(g.jsx)("div",{})]})}),Object(g.jsx)("div",{className:"toggle-container-3",children:Object(g.jsxs)("label",{class:"switch-3",children:[Object(g.jsx)("input",{type:"checkbox"}),"    ",Object(g.jsx)("div",{})]})}),Object(g.jsx)("a",{className:"App-link",href:"https://reactjs.org",target:"_blank",rel:"noopener noreferrer"})]}),Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"Card-deactivate",children:"Enable Directions"})}),Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"Anti-theft",children:"Anti-Theft Mode"})}),Object(g.jsx)("div",{children:Object(g.jsx)("p",{className:"Tracking",children:"Disable Tracking"})}),Object(g.jsx)("button",{className:"Contact-support",children:"Contact Support"}),Object(g.jsx)("button",{className:"Remove-card",children:"Change Settings"})]})},k=function(t){t&&t instanceof Function&&a.e(3).then(a.bind(null,40)).then((function(e){var a=e.getCLS,n=e.getFID,o=e.getFCP,c=e.getLCP,r=e.getTTFB;a(t),n(t),o(t),c(t),r(t)}))};r.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(x,{})}),document.getElementById("root")),k()}},[[38,1,2]]]);
//# sourceMappingURL=main.3f99e950.chunk.js.map